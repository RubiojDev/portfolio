<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Portfolio de Jesús Rubio, desarrollador Java Backend especializado en APIs REST con Spring Boot."
        />
        <link rel="stylesheet" href="./css/style.css" />
        <title>Portfolio Jesus Rubio</title>
    </head>
    <body>
        <header class="bar-nav">
            <nav class="container nav">
                <div class="nav-title text-subtitle">
                    <a href="#">Desarrollador Backend</a>
                </div>

                <div class="nav-right">
                    <ul class="nav-links">
                        <li>
                            <a href="#about" class="btn btn--primary">Inicio</a>
                        </li>
                        <li>
                            <a href="#projects" class="btn btn--primary"
                                >Proyectos</a
                            >
                        </li>
                        <li>
                            <a href="#contact" class="btn btn--primary"
                                >Contacto</a
                            >
                        </li>
                        <li class="nav-cv">
                            <a
                                href="/cv.pdf"
                                download
                                class="btn btn--secondary"
                                >Descargar CV</a
                            >
                        </li>
                    </ul>

                    <button class="nav-language text-dark" aria-label="Idioma">
                        <span class="icon-language-es"
                            ><img
                                src="images/es.webp"
                                alt="icono español"
                            />ES</span
                        ><span class="icon-language-en hidden"
                            ><img
                                src="images/en.webp"
                                alt="icono ingles"
                            />EN</span
                        >
                    </button>

                    <button class="nav-burger" aria-label="Menú">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </nav>
        </header>

        <section id="about" class="about container">
            <div class="about-info">
                <p class="intro text-subtitle">Hola, soy</p>

                <h1 class="text-heading-1 text-green text-shadow">
                    JESÚS RUBIO
                </h1>

                <h2 class="text-subtitle text-purple">
                    Desarrollador Java Backend
                </h2>

                <p class="paragraph">
                    Me gusta construir APIs REST bien diseñadas, eficientes y
                    escalables con Spring Boot, trabajar con bases de datos
                    relacionales y mejorar constantemente mis habilidades a
                    través de proyectos personales y colaborativos.
                    <br />Formado en Ingeniería en Informática, complementando
                    mi aprendizaje con bootcamp y diversos cursos
                    especializados. <br />Comprometido con el aprendizaje
                    continuo y la excelencia técnica, busco seguir creciendo
                    profesionalmente dentro del sector tecnológico.
                </p>

                <div>
                    <h3 class="text-subtitle text-green">Stack Tecnológico</h3>
                    <ul class="skills">
                        <li
                            class="skill-wrapper common"
                            aria-label="Java - Nivel común"
                        >
                            <div class="skill-item">
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                /><span>Java</span>
                            </div>
                        </li>
                        <li class="skill-wrapper rare">
                            <div class="skill-item">
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                /><span>Java</span>
                            </div>
                        </li>
                        <li class="skill-wrapper epic">
                            <div class="skill-item">
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                /><span>Java</span>
                            </div>
                        </li>
                        <li class="skill-wrapper legendary">
                            <div class="skill-item">
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                /><span>Java</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="about-photo">
                <img src="images/profile.jpg" alt="Foto de Jesus Rubio" />
            </div>
        </section>

        <div class="decorator">
            <img src="images/top-decorator.svg" alt="Imagen decorativa" />
        </div>

        <section id="projects" class="container">
            <h3 class="text-subtitle text-green">Proyectos</h3>

            <ul class="projects-list">
                <li>
                    <article class="projects-article">
                        <h4 class="projects-article-title">Título</h4>

                        <figure
                            class="projects-article-image"
                            data-modal-image="images/trabajando.jpg"
                        >
                            <img
                                src="images/trabajando.jpg"
                                alt="Captura del proyecto API"
                            />
                        </figure>

                        <p class="projects-article-description text-dark">
                            Lorem ipsum dolor sit amet consectetur adipisicing
                            elit. Saepe, tempora! Recusandae quas, debitis ut
                            provident dolores esse, rerum consectetur possimus
                            quidem exercitationem, autem molestiae ab
                            reprehenderit? Ipsum magnam maxime consequuntur.
                        </p>

                        <ul
                            class="projects-article-skills"
                            aria-label="Tecnologías utilizadas"
                        >
                            <li>
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                    aria-hidden="true"
                                />
                                <span>Skill1</span>
                            </li>
                            <li>
                                <img src="" alt="" aria-hidden="true" />
                                <span>Skill1</span>
                            </li>
                        </ul>

                        <footer class="projects-article-footer">
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Demo</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >GitHub</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Documentación</a
                            >
                            <button
                                class="project-history-btn"
                                data-project="project-1"
                            >
                                Historial
                            </button>
                        </footer>
                    </article>
                </li>
                <li>
                    <article class="projects-article">
                        <h4 class="projects-article-title">Título</h4>

                        <figure
                            class="projects-article-image"
                            data-modal-image="images/trabajando.jpg"
                        >
                            <img
                                src="images/trabajando.jpg"
                                alt="Captura del proyecto API"
                            />
                        </figure>

                        <p class="projects-article-description text-dark">
                            Lorem ipsum dolor sit amet consectetur adipisicing
                            elit. Saepe, tempora! Recusandae quas, debitis ut
                            provident dolores esse, rerum consectetur possimus
                            quidem exercitationem, autem molestiae ab
                            reprehenderit? Ipsum magnam maxime consequuntur.
                        </p>

                        <ul
                            class="projects-article-skills"
                            aria-label="Tecnologías utilizadas"
                        >
                            <li>
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                    aria-hidden="true"
                                />
                                <span>Skill1</span>
                            </li>
                            <li>
                                <img src="" alt="" aria-hidden="true" />
                                <span>Skill1</span>
                            </li>
                        </ul>

                        <footer class="projects-article-footer">
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Demo</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >GitHub</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Documentación</a
                            >
                            <button
                                class="project-history-btn"
                                data-project="project-2"
                            >
                                Historial
                            </button>
                        </footer>
                    </article>
                </li>
                <li>
                    <article class="projects-article">
                        <h4 class="projects-article-title">Título</h4>

                        <figure
                            class="projects-article-image"
                            data-modal-image="images/trabajando.jpg"
                        >
                            <img
                                src="images/trabajando.jpg"
                                alt="Captura del proyecto API"
                            />
                        </figure>

                        <p class="projects-article-description text-dark">
                            Lorem ipsum dolor sit amet consectetur adipisicing
                            elit. Saepe, tempora! Recusandae quas, debitis ut
                            provident dolores esse, rerum consectetur possimus
                            quidem exercitationem, autem molestiae ab
                            reprehenderit? Ipsum magnam maxime consequuntur.
                        </p>

                        <ul
                            class="projects-article-skills"
                            aria-label="Tecnologías utilizadas"
                        >
                            <li>
                                <img
                                    src="assets/icons/java.svg"
                                    alt="Java"
                                    aria-hidden="true"
                                />
                                <span>Skill1</span>
                            </li>
                            <li>
                                <img src="" alt="" aria-hidden="true" />
                                <span>Skill1</span>
                            </li>
                        </ul>

                        <footer class="projects-article-footer">
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Demo</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >GitHub</a
                            >
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                >Documentación</a
                            >
                            <button
                                class="project-history-btn"
                                data-project="project-3"
                            >
                                Historial
                            </button>
                        </footer>
                    </article>
                </li>
            </ul>
        </section>

        <div class="section-divider"></div>

        <section id="contact" class="container">
            <h3 class="text-subtitle text-green">Contacto</h3>

            <div class="contact-container">
                <div class="contact-info">
                    <p>
                        ¿Tienes un proyecto, idea o simplemente quieres
                        conectar?
                        <strong>Hablemos.</strong>
                    </p>

                    <ul class="contact-links">
                        <li>
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                title="GitHub"
                            >
                                <img
                                    src="assets/icons/github.svg"
                                    alt="GitHub"
                                />
                            </a>
                        </li>
                        <li>
                            <a
                                href="..."
                                target="_blank"
                                rel="noopener noreferrer"
                                title="LinkedIn"
                            >
                                <img
                                    src="assets/icons/linkedin.svg"
                                    alt="LinkedIn"
                                />
                            </a>
                        </li>
                        <li class="contact-item">
                            <a href="#" id="copy-email" title="Copiar correo">
                                <img src="assets/icons/email.svg" alt="Email" />
                            </a>
                            <span class="copy-feedback" id="copy-feedback"
                                >Correo copiado</span
                            >
                        </li>
                        <li>
                            <a href="/cv.pdf" download title="Descargar CV">
                                <img
                                    src="assets/icons/descargarpdf.png"
                                    alt="Descargar CV"
                                />
                            </a>
                        </li>
                    </ul>
                </div>

                <form id="contact-form">
                    <label for="name">Nombre</label>
                    <input
                        id="name"
                        type="text"
                        placeholder="Nombre"
                        required
                    />

                    <label for="email">Correo</label>
                    <input
                        id="email"
                        type="email"
                        placeholder="Correo"
                        required
                    />

                    <label for="message">Mensaje</label>
                    <textarea
                        id="message"
                        placeholder="Mensaje"
                        required
                    ></textarea>

                    <button type="submit">Enviar</button>
                    <p id="form-status" aria-live="polite"></p>
                </form>
            </div>
        </section>

        <div class="section-divider"></div>

        <footer id="footer">
            <div>© 2026 · Jesús Rubio</div>
            <div>“Built with ❤️ HTML, CSS & JS”</div>
            <img src="images/bottom-decorator.svg" alt="Imagen decorativa" />
        </footer>

        <div id="image-modal" class="modal">
            <div class="modal-overlay"></div>

            <div class="modal-content">
                <button class="modal-close" aria-label="Cerrar">✕</button>
                <img src="" alt="Imagen ampliada del proyecto" />
            </div>
        </div>

        <div id="history-modal" class="modal">
            <div class="modal-overlay"></div>

            <div class="modal-content modal-history">
                <button class="modal-close" aria-label="Cerrar">✕</button>

                <h3 class="modal-history-title">Historial del proyecto</h3>

                <div class="modal-body">
                    <ul class="history-timeline"></ul>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
        <script>
            emailjs.init("tnBmvzHPYDV4Onvh5");
        </script>
        <script>
            const burger = document.querySelector(".nav-burger");
            const navLink = document.querySelector(".nav-links");
            const navLinks = document.querySelectorAll(".nav-links a");

            const language = document.querySelector(".nav-language");
            const iconLanguageES = document.querySelector(".icon-language-es");
            const iconLanguageEN = document.querySelector(".icon-language-en");

            burger.addEventListener("click", () => {
                navLink.classList.toggle("active");
                burger.classList.toggle("open");
            });

            navLinks.forEach((link) => {
                link.addEventListener("click", () => {
                    navLink.classList.remove("active");
                    burger.classList.remove("open");
                });
            });

            language.addEventListener("click", () => {
                iconLanguageES.classList.toggle("hidden");
                iconLanguageEN.classList.toggle("hidden");
            });

            const modal = document.getElementById("image-modal");
            const modalImg = modal.querySelector("img");
            const modalClose = modal.querySelector(".modal-close");
            const modalOverlay = modal.querySelector(".modal-overlay");

            document
                .querySelectorAll(".projects-article-image")
                .forEach((figure) => {
                    figure.addEventListener("click", () => {
                        const imgSrc = figure.dataset.modalImage;
                        modalImg.src = imgSrc;
                        modal.classList.add("active");
                        document.body.style.overflow = "hidden";
                    });
                });

            function closeModal() {
                modal.classList.remove("active");
                modalImg.src = "";
                document.body.style.overflow = "";
            }

            modalClose.addEventListener("click", closeModal);
            modalOverlay.addEventListener("click", closeModal);

            const historyModal = document.getElementById("history-modal");
            const historyList = historyModal.querySelector(".history-timeline");

            document.querySelectorAll(".project-history-btn").forEach((btn) => {
                btn.addEventListener("click", async () => {
                    const projectId = btn.dataset.project;

                    try {
                        const res = await fetch("data/history.json");
                        const data = await res.json();
                        renderHistory(data[projectId]);
                    } catch (err) {
                        historyList.innerHTML =
                            "<li>Error cargando historial.</li>";
                    }

                    historyModal.classList.add("active");
                    document.body.style.overflow = "hidden";
                });
            });

            function renderHistory(entries) {
                historyList.innerHTML = "";

                if (!entries || entries.length === 0) {
                    historyList.innerHTML =
                        "<li>No hay historial disponible.</li>";
                    return;
                }

                entries.forEach((entry) => {
                    const li = document.createElement("li");
                    li.innerHTML = `
            <div class="history-version">
                <strong>${entry.module}</strong>
            </div>
            <div class="history-version">
                <span class="status-${entry.status.toLowerCase()}">
                    ${entry.status}
                </span>
                <span>${entry.date}</span>
            </div>
            <ul class="history-changes">
                ${entry.changes.map((c) => `<li>- ${c}</li>`).join("")}
            </ul>
        `;
                    historyList.appendChild(li);
                });
            }

            historyModal
                .querySelector(".modal-close")
                .addEventListener("click", () => {
                    historyModal.classList.remove("active");
                    document.body.style.overflow = "";
                });

            historyModal
                .querySelector(".modal-overlay")
                .addEventListener("click", () => {
                    historyModal.classList.remove("active");
                    document.body.style.overflow = "";
                });

            const form = document.getElementById("contact-form");
            const statusMsg = document.getElementById("form-status");

            form.addEventListener("submit", (e) => {
                e.preventDefault();

                statusMsg.textContent = "";
                statusMsg.className = "";

                const name = form.name.value.trim();
                const email = form.email.value.trim();
                const message = form.message.value.trim();

                if (name.length < 2) {
                    showError("El nombre debe tener al menos 2 caracteres");
                    return;
                }

                if (!isValidEmail(email)) {
                    showError("El correo no es válido");
                    return;
                }

                if (message.length < 10) {
                    showError("El mensaje debe tener al menos 10 caracteres");
                    return;
                }

                statusMsg.textContent = "Enviando...";

                emailjs
                    .send("service_f4y779d", "template_bpalade", {
                        name,
                        email,
                        message,
                    })
                    .then(() => {
                        statusMsg.textContent =
                            "Mensaje enviado correctamente ✔";
                        statusMsg.classList.add("form-success");
                        form.reset();
                    })
                    .catch(() => {
                        showError(
                            "Error al enviar el mensaje. Intenta más tarde."
                        );
                    });
            });
            function showError(msg) {
                statusMsg.textContent = msg;
                statusMsg.classList.add("form-error");
            }

            function isValidEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }
        </script>
        <script>
            const emailName = "tucorreo";
            const emailServer = "gmail";
            const email = emailName + "@" + emailServer + ".com";
            const feedback = document.getElementById("copy-feedback");

            document
                .getElementById("copy-email")
                .addEventListener("click", (e) => {
                    e.preventDefault();
                    navigator.clipboard.writeText(email).then(() => {
                        feedback.classList.add("show");
                        setTimeout(
                            () => feedback.classList.remove("show"),
                            2000
                        );
                    });
                });
        </script>
    </body>
</html>
